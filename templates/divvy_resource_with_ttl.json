{
    "uuid": "divvy.resource_with_ttl",
    "name": "Resources With TTL",
    "category": "Optimization",
    "description": "This bot works in coordination with a tagging policy that allows resource owners to specify a 'time to live' (TTL). N.b., does not include Compute Instances",
    "instructions": {
        "actions": [
            {
            "run_when_result_is": true,
            "config": {},
            "name": "divvy.action.mark_non_compliant"
            },
            {
            "run_when_result_is": true,
            "config": {},
            "name": "divvy.action.ttl_deletion"
            }
        ],
        "filters": [
            {
            "config": {
            "match_all": false,
            "tag_keys": [
                "ttl"
            ],
             "case_sensitive": false
            },
            "name": "divvy.query.resource_has_tag_key"
            }
        ],
        "groups": [],
        "hookpoints": [
            "divvycloud.resource.created",
            "divvycloud.resource.modified"
        ],
        "ondemand_enabled": true,
        "resource_types": [
            "dbinstance",
            "mcinstance",
            "bigdatainstance",
            "volume",
            "snapshot",
            "dbsnapshot",
            "mcsnapshot",
            "bigdatasnapshot",
            "storagecontainer"
        ]
    }
}